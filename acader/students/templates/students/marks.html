<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
	<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Marks-Register Form</title>
	<link rel="stylesheet" href="{% static 'css/course.css' %}">
</head>
<body>
    <form action="" method="POST">

        {% csrf_token %}
        <div class="wrapper">
        <div class="title">
          Marks Form
        </div>
        <div class="form">
            <div class="inputfield">
              <label>Student Name</label>
              <div class="custom_select">
                <select name="student-id">
                    {% if selected_student %}
                        <option value="{{selected_student.id}}">{{selected_student.first_name}} {{selected_student.last_name}}</option>
                    {% else %}
                        <option>Select a student</option>
                        {% for student in students_model %}
                             <option value="{{student.id}}">{{student.first_name}} {{student.last_name}}</option>
                        {% endfor %}
                    {% endif %}
                </select>
              </div>
           </div>

            {% if show_full_form == False %}
            <div class="inputfield">
             <input type="submit" name="Select" value="Select" class="btn"/>
            </div>
            {% endif %}

        {% if show_full_form %}
            <div class="inputfield">
              <label>Current Grade</label>
              <div class="custom_select">
                <select name="grade">
                    <option value="{{student_grade}}">{{student_grade}}</option>
                </select>
              </div>
            </div>

            <div class="inputfield">
              <label>Faculty</label>
              <div class="custom_select">
                <select name="faculty">
                  <option value="{{student_faculty}}">{{student_faculty}}</option>
                </select>
              </div>
           </div>

           <div class="inputfield">
                <label>Term</label>
                <div class="custom_select">
                    <select name="term">
                        <option value="">Select a term</option>
                        {% for t in terms %}
                         <option value="{{t.id}}">{{t.terms_name}}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="inputfield">
                <label>Subject</label>
                <div class="custom_select">
                  <select name="course">
                    <option value="">Select a course</option>

                       {% for c in course_subject %}
                        <option value="{{c.course_name}}">{{c.course_name}}</option>
                        {% endfor %}
                  </select>
                </div>
             </div>

            <div class="inputfield">
              <label>Marks obtained</label>
              <input type="number" class="input" name="obtained_marks">
            </div>

            <div class="inputfield">
             <input type="submit" name="Register" value="Register" class="btn"/>
            </div>
        {% endif %}
        </div>
    </div>
        <div class="container">
              {% if messages %}
                {% for message in messages %}
                {% if message.tags == 'warning' %}
                  <div class="alert alert-warning" style="margin-top:10px">{{ message }}</div>
                {% endif %}
                {% if message.tags == 'success' %}
                  <script>
                    alert("Marks successfully registered");
                  </script>                
                {% endif %}
                {% endfor %}
                {% endif %}
         </div>
    </form>
</body>
</html>